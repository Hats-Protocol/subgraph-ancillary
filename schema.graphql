enum HatsSignerGateType {
  Single
  Multi
}

type HatAuthority @entity {
  id: ID!
  hsgOwner: [HatsSignerGate!]! @derivedFrom(field: "ownerHat")
  hsgSigner: [HatsSignerGate!]! @derivedFrom(field: "signerHats")
  jokeraceAdmin: [JokeRaceEligibility!]! @derivedFrom(field: "adminHat")
  allowListOwner: [AllowListEligibility!]! @derivedFrom(field: "ownerHat")
  allowListArbitrator: [AllowListEligibility!]!
    @derivedFrom(field: "arbitratorHat")
  electionsBallotBox: [HatsElectionEligibility!]!
    @derivedFrom(field: "ballotBoxHat")
  electionsAdmin: [HatsElectionEligibility!]! @derivedFrom(field: "adminHat")
  eligibilityTogglePassthrough: [PassthroughModule!]!
    @derivedFrom(field: "passthroughHat")
  stakingJudge: [StakingEligibility!]! @derivedFrom(field: "judgeHat")
  stakingRecipient: [StakingEligibility!]! @derivedFrom(field: "recipientHat")
}

type HatsSignerGate @entity {
  id: ID!
  type: HatsSignerGateType!
  ownerHat: HatAuthority!
  signerHats: [HatAuthority!]!
  safe: String!
  minThreshold: BigInt!
  targetThreshold: BigInt!
  maxSigners: BigInt!
}

type JokeRaceEligibility @entity {
  id: ID!
  adminHat: HatAuthority!
  currentContest: String!
  currentTermEnd: BigInt!
  currentTopK: BigInt!
}

type AllowListEligibility @entity {
  id: ID!
  ownerHat: HatAuthority!
  arbitratorHat: HatAuthority!
}

type HatsElectionEligibility @entity {
  id: ID!
  ballotBoxHat: HatAuthority!
  adminHat: HatAuthority!
}

type PassthroughModule @entity {
  id: ID!
  passthroughHat: HatAuthority!
}

type StakingEligibility @entity {
  id: ID!
  judgeHat: HatAuthority!
  recipientHat: HatAuthority!
}
